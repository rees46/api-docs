## Read profile info

```shell
# Using email as user identifier
curl https://<%= config[:api_endpoint] %>/profile?email=...&shop_id=...&shop_secret=...

# Using phone as user identifier
curl https://<%= config[:api_endpoint] %>/profile?phone=...&shop_id=...&shop_secret=...
```

```javascript
<%= config[:js_sdk_name] %>('profile', 'get', function(profile) {
    // Here you can use all properties of profile's object
    console.log(profile.gender);
    console.log(profile.fashion.sizes.shoe);
},
// Use `true`, to work in single page sites.
// Default - `false`
false
);
```

> The REST method returns this JSON structure for requests where a secret key was provided

```json
{
  "first_name": "...",
  "last_name": "...",
  "email": "...",
  "phone": "...",
  "fb_id": "...",
  "vk_id": "...",
  "telegram_id": "...",
  "loyalty_id": "...",
  "loyalty_card_location": "...",
  "loyalty_status": "...",
  "loyalty_bonuses": "...",
  "loyalty_bonuses_to_next_level": "...",
  "gender": "...",
  "location": "...",
  "age": "...",
  "birthday": "...",
  "bought_something": "...",
  "tags": [
    "...",
    "..."
  ],
  "custom_properties": {
    "prop_key_1": "prop_value",
    "prop_key_2": "prop_value"
  },
  "additional_phones": [],
  "additional_emails": [],
  "additional_loyalty_ids": [],
  "orders": [
    {
      "id": "...",
      "value": "...",
      "status": "...",
      "items": [
        {
          "id": "...",
          "price": "...",
          "name": "...",
          "quantity": "..."
        },
        {
          "id": "...",
          "price": "...",
          "name": "...",
          "quantity": "..."
        }
      ]
    }
  ]
}
```

> The REST method returns this JSON structure with publicly available profile data if a secret key was not provided in the request

```json
{
  "has_email": true,
  "computed_gender": "male",
  "gender": "male",
  "bought_something": true,
  "id": "YOUR ID",
  "custom_properties": {
    "favorite_color": "blue",
    "subscription_level": "premium"
  }
}
```

> JS SDK method returns simplified anonymous structure to prevent data stealing

```json
{
  "fashion_sizes": ["..."],

  "gender": "m or f",

  "cosmetic_hair": ["..."],
  "allergy": "bool",
  "cosmetic_skin": ["..."],
  "cosmetic_perfume": ["..."],

  "compatibility": null,
  "vds": null,

  "jewelry": null,

  "realty": ["..."],

  "children": ["..."],
  "child_gender": "m or f",

  "pets": ["..."],

  "income_level": "cheap"
}
```


You can read profile info from the CRM using an API or SDK.

In the case of using the REST API (when using an email or phone number as the user ID), you must provide a secret key to the method to get a full response.

However, there is publicly available data you can retrieve without providing a secret key in your request.
