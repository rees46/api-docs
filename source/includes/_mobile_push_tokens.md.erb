# Mobile push tokens

## Create new token

```shell
curl -d "did=DEVICE_ID&shop_id=SHOPID&token=TOKEN&platform=PLATFORM" https://<%= config[:api_endpoint] %>/mobile_push_tokens
```

```swift
sdk.setPushTokenNotification(token: "TOKEN_STRING") { (tokenResponse) in
  print("Token set response")
}
```

```java
TBD
```

```jsx
// To collect push tokens, you have to make some adjustments to the app:

// ** For iOS:

// Open your /ios/{projectName}/AppDelegate.m file, and add the following: At the top of the file, import the Firebase SDK:
#import <Firebase.h>

// Open a terminal window and navigate to the location of the Xcode project for your app

cd ios/
pod install
```

```jsx
// ** For Android

// In your android/build.gradle

buildscript {
    dependencies {
        ...
        //Add this \/
        classpath 'com.google.gms:google-services:4.3.4'
    }
}

// In your android/app/build.gradle add
apply plugin: 'com.google.gms.google-services'
```

> The above command returns JSON structured like this:

```json
{}
```

This endpoint creates new token for the user, identified by `did` parameter.

### HTTP Request

`POST https://<%= config[:api_endpoint] %>/mobile_push_tokens`

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
did | true | Device ID. You get it from `init` method in SDK.
platform | true | Identifies platform: `ios` or `android`
token | true | Unique mobile push token from iOS or Android.
shop_id | true | Your API key

