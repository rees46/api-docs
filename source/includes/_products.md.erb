# Products and catalog

Service is used to manage products and categories.

## Get product info

```shell
curl https://<%= config[:api_endpoint] %>/products/get?shop_id=...&item_id=...
```

```javascript
// No implementation. See CURL
```

```swift
// No implementation. See CURL
```

```java
// No implementation. See CURL
```

> REST method returns this JSON structure

```json
{
  "name": "...",
  "description": "...",
  "price": "...",
  "currency": "...",
  "url": "...",
  "picture": "..."
}
```

Returns basic product info.

`GET https://<%= config[:api_endpoint] %>/products/get`

### Query Parameters

Parameter | Type | Required | Description
--------- | ------- | -------  | -----------
shop_id | String | true | Your API key
item_id | String | true | Product ID

## Get subscriptions for products in stock

```shell
curl https://<%= config[:api_endpoint] %>/products/subscribers/stock?shop_id=...&shop_secret=...
```

```javascript
// No implementation. See CURL
```

```swift
// No implementation. See CURL
```

```java
// No implementation. See CURL
```

> REST method returns this JSON structure

```json
[
  {
    "id": "ID1",
    "barcode": "BC101",
    "quantity": 337,
    "date": "2020-01-12",
    "contacts": [
      "email@email.com",
      "email@email.com"
    ]
  },
  {
    "id": "ID2",
    "barcode": "BC102",
    "quantity": 13,
    "date": "2020-08-11",
    "contacts": [
      "email@email.com",
      "email@email.com"
    ]
  }
]
```

Returns list of products and a number of subscribers for each product in stock.

`GET https://<%= config[:api_endpoint] %>/products/subscribers/stock`

### Query Parameters

| Parameter   | Type    | Required | Description     |
| ----------- | ------- | -------  | --------------- |
| shop_id     | String  | true     | Your API key    |
| shop_secret | String  | true     | Shop secret key |

### Response details

Parameter | Type | Description
--------- | -------  | -----------
id | String | Product ID
barcode | String | Product barcode
subscribers | Integer | Number of subscribers for the product
date | String | Date of the last subscription



## Get subscriptions for products price drop

```shell
curl https://<%= config[:api_endpoint] %>/products/subscribers/price?shop_id=...&shop_secret=...
```

```javascript
// No implementation. See CURL
```

```swift
// No implementation. See CURL
```

```java
// No implementation. See CURL
```

> REST method returns this JSON structure

```json
[
  {
    "id": "ID1",
    "barcode": "BC101",
    "quantity": 337,
    "date": "2020-01-12",
    "contacts": [
      "email@email.com",
      "email@email.com"
    ]
  },
  {
    "id": "ID2",
    "barcode": "BC102",
    "quantity": 13,
    "date": "2020-08-11",
    "contacts": [
      "email@email.com",
      "email@email.com"
    ]
  }
]
```

Returns list of products and a number of subscribers for each product's price drop.

`GET https://<%= config[:api_endpoint] %>/products/subscribers/price`

### Query Parameters

Parameter | Type | Required | Description
--------- | ------- | -------  | -----------
shop_id | String | true | Your API key
shop_secret | String | true | Shop secret key

### Response details

Parameter | Type | Description
--------- | -------  | -----------
id | String | Product ID
barcode | String | Product barcode
subscribers | Integer | Number of subscribers for the product
date | String | Date of the last subscription


## Get status of subscription for "Back in Stock" trigger

```shell
// No implementation. See JavaScript
```

```javascript
<%= config[:js_sdk_name] %>("check_trigger", "product_price_decrease", params, success, error);
```

```swift
// No implementation. See JavaScript
```

```java
// No implementation. See JavaScript
```

> API method returns this boolean status


Returns boolean status of subscription.


### Query Parameters

Parameter | Type     | Required | Description
--------- | -------- | -------- | -----------
params    | Object   | true     | Object with request parameters.
success   | Function | true     | Callback-function, where the API response will be passed to. Response type: object.
error     | Function | false    | Callback-function to be called when an error occurs (any HTTP status code other than 200).

### Request parameters

Parameter  | Type          | Required | Description
---------- | ------------- | -------- | -----------
item       | string/number | true     | Product ID
email      | string	       | false    | Email for subscription checking
phone      | string	       | false    | Phone for subscription checking
loyalty_id | string	       | false    | Loyalty ID for subscription checking

<aside class="notice">
If no *email*, *phone*, or *loyalty_id* is specified, only the user's current device will be checked. It won't take into account subscriptions performed on the user's other devices.
</aside>


## Get status of subscription for product price drop

```shell
// No implementation. See JavaScript
```

```javascript
<%= config[:js_sdk_name] %>("check_trigger", "product_available", params, success, error);
```

```swift
// No implementation. See JavaScript
```

```java
// No implementation. See JavaScript
```

> API method returns this boolean status


Returns boolean status of subscription.


### Query Parameters

Parameter | Type     | Required | Description
--------- | -------- | -------- | -----------
params    | Object   | true     | Object with request parameters.
success   | Function | true     | Callback-function, where the API response will be passed to. Response type: object.
error     | Function | false    | Callback-function to be called when an error occurs (any HTTP status code other than 200).

### Request parameters

Parameter  | Type          | Required | Description
---------- | ------------- | -------- | -----------
item       | string/number | true     | Product ID
email      | string	       | false    | Email for subscription checking
phone      | string	       | false    | Phone for subscription checking
loyalty_id | string	       | false    | Loyalty ID for subscription checking

<aside class="notice">
If no *email*, *phone*, or *loyalty_id* is specified, only the user's current device will be checked. It won't take into account subscriptions performed on the user's other devices.
</aside>
