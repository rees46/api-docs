## Cancel order

> Headers

```
Content-type: application/json
```

> Body example

```json
{
    "shop_id":         "...",
    "shop_secret":     "...",
    "order_id":        "..."
}
```

> Request example

```shell
curl --header "Content-Type: application/json" \
  --request POST \
  --data-binary "@data.json" \
  https://<%= config[:api_endpoint] %>/loyalty/checkout/cancel
```

```javascript
// S2S only
```
```swift
// S2S only
```
```java
// S2S only
```
```kotlin
// S2S only
```
```jsx
// S2S only
```

> The above command returns JSON structured like this:

```json
{
  "success": true,
  "payload": {
    "order_id": "...",
    "identifier": "..."
  }
}
```

### HTTP Request

`POST https://<%= config[:api_endpoint] %>/loyalty/checkout/cancel`

If client failed to pay for order and don't plan to proceed, you have to cancel the transaction to refund bonuses used on `loyalty/checkout/apply` operation.

Just send the same payload to `loyalty/checkout/cancel` to refund bonuses.

Specifics:

1. Cancels a specific event bonus if it has the cancellable flag
2. Only works with bonuses created via event_bonus
